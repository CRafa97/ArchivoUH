@model ArchivoUH.Models.IndexCharts

<!DOCTYPE html>
<html lang="es">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Inicio</title>

    <!-- Custom fonts for this template-->
    <link href="~/sbAdmin/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="~/sbAdmin/css/sb-admin-2.min.css" rel="stylesheet">

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Render the Sidebar like partial view-->
        @{
            Html.RenderPartial("_Sidebar");
        }

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Render the Topbar like partial view in page content -->
                @{
                    Html.RenderPartial("_Topbar");
                }

                <!-- Begin Page Content -->
                <div class="container-fluid">

                    <!-- Page Heading -->
                    <div class="d-sm-flex align-items-center justify-content-between mb-4">
                        <h1 class="h3 mb-0 text-gray-800">Inicio</h1>
                        @*<a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i class="fas fa-download fa-sm text-white-50"></i> Generate Report</a>*@
                    </div>

                    <!-- Content Row -->
                    <div class="row">

                        <!-- Graduados -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-success shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Graduados</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.Grad</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-graduation-cap fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Bajas -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-danger shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">Bajas</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.Lev</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-door-open fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Administrativos -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-primary shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Administrativos</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.Adms</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-file-archive fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Total -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-secondary shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-secondary text-uppercase mb-1">Total</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.Total</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-bookmark fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Content Row (Bar and Pie Graphs) -->

                    <div class="card mb-4 py-3 border-bottom-info">
                        <div class="card-body">
                            Los gráficos ofrecen un conjunto de estadísticas sobre los archivos de graduados y bajas basados en
                            los últimos 6 años y el pasado curso escolar.
                            El gráfico izquierdo superior describe la cantidad de graduados y de bajas en los últimos 6 años en toda la universidad,
                            mientras el gráfico adyacente las 6 carreras con mayor cantidad de graduados en el pasado año.
                        </div>
                    </div>

                    <div class="row">

                        <!-- Bar Chart (Graduates per years)-->
                        <div class="col-xl-7 col-lg-7">
                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Cantidad de Graduados y Bajas en los últimos 6 años</h6>

                                </div>

                                <!-- Card Body -->
                                <div class="card-body">
                                    <div class="chart-area">
                                        @if (ViewBag.ValidGraphics)
                                        {
                                            <canvas id=@Model.BarChart.CanvasName></canvas>
                                        }
                                        else
                                        {
                                            <center>
                                                No existen datos suficientes para la 
                                                creación de este gráfico
                                            </center>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pie Chart -->
                        <div class="col-xl-5 col-lg-7">
                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Carreras con más graduados este último año</h6>

                                </div>
                                <!-- Card Body -->
                                <div class="card-body">
                                    <div class="chart-pie pt-6 pb-3">
                                        @if (ViewBag.ValidGraphics)
                                        {
                                            <canvas id=@Model.PieChart.CanvasName></canvas>
                                        }
                                        else
                                        {
                                            <center>
                                                No existen datos suficientes para la
                                                creación de este gráfico
                                            </center>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4 py-3 border-bottom-info">
                        <div class="card-body">
                            El gráfico de la izquierda muestra las 6 facultades con mayor cantidad de bajas el año pasado, el de la derecha ofrece
                            una comparación entre la correspondencia de la cantidad de bajas con graduados de una determinada carrera en los últimos
                            6 años, para cambiar de carrera seleccione el menú <i class="fas fa-ellipsis-v"></i> y seleccione la carrera que desea comparar
                        </div>
                    </div>

                    <!-- Content Row -->
                    <div class="row">

                        <!-- Content Column (Faculty Pie) -->
                        <div class="col-lg-6 mb-4">
                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Facultades con más bajas en el último año </h6>

                                </div>
                                <!-- Card Body -->
                                <div class="card-body">
                                    <div class="chart-pie pt-6 pb-3">
                                        @if (ViewBag.ValidGraphics)
                                        {
                                            <canvas id=@Model.FacChart.CanvasName></canvas>
                                        }
                                        else
                                        {
                                            <center>
                                                No existen datos suficientes para la
                                                creación de este gráfico
                                            </center>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Content Column (Area Leaves vs Graduates) -->
                        <div class="col-lg-6 mb-4">
                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Comparación de Graduados y Bajas para: @ViewBag.SelectedFaculty</h6>
                                    <div class="dropdown no-arrow">
                                        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                                            <div class="dropdown-header">Facultades:</div>
                                            @foreach (var fac in ((List<string>)ViewBag.FacNames))
                                            {
                                                @Html.ActionLink(fac, "Index", "Home", new { faculty = fac }, new { @class = "dropdown-item" })
                                            }
                                        </div>
                                    </div>
                                </div>
                                <!-- Card Body -->
                                <div class="card-body">
                                    <div class="chart-pie pt-6 pb-3">
                                        @if (ViewBag.ValidGraphics)
                                        {
                                            <canvas id=@Model.Comparison.CanvasName></canvas>
                                        }
                                        else
                                        {
                                            <center>
                                                No existen datos suficientes para la
                                                creación de este gráfico
                                            </center>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->
            <!-- Rendering Page Footer like partial view -->
            @{
                Html.RenderPartial("_Footer");
            }

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->
    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Render Logout Modal for all view -->
    @{
        Html.RenderPartial("_LogoutModal");
    }

    <!-- Bootstrap core JavaScript-->
    <script src="~/sbAdmin/vendor/jquery/jquery.min.js"></script>
    <script src="~/sbAdmin/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="~/sbAdmin/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="~/sbAdmin/js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="~/sbAdmin/vendor/chart.js/Chart.min.js"></script>

    <!-- Page level custom scripts -->
    <script src="~/sbAdmin/js/demo/chart-area-demo.js"></script>
    @if (ViewBag.ValidGraphics)
    {
        Html.RenderPartial("_BarChart", Model.BarChart);
        Html.RenderPartial("_PieChart", Model.PieChart);
        Html.RenderPartial("_PieChart", Model.FacChart);
        Html.RenderPartial("_AreaChart", Model.Comparison);
    }

</body>

</html>


